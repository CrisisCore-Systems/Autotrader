schema: '2.0'
stages:
  fetch_market_data:
    cmd: python scripts/data/fetch_market_data.py --config 
      configs/data/fetch.yaml
    deps:
    - path: configs/data/fetch.yaml
      hash: md5
      md5: 552ad17c1052c29b1a0a181500e0868f
      size: 307
    - path: scripts/data/fetch_market_data.py
      hash: md5
      md5: e6c588065b72710315b3c36f3cb69d74
      size: 3751
    outs:
    - path: data/raw/market
      hash: md5
      md5: 60f4c47005ea2b67ff7bfe57336ce588.dir
      size: 18248595
      nfiles: 8
  build_features:
    cmd: python scripts/data/build_features.py --config 
      configs/data/features.yaml
    deps:
    - path: configs/data/features.yaml
      hash: md5
      md5: 4c26ad83672ad71e1731080b6a6aa26d
      size: 265
    - path: data/raw/market
      hash: md5
      md5: 60f4c47005ea2b67ff7bfe57336ce588.dir
      size: 18248595
      nfiles: 8
    - path: scripts/data/build_features.py
      hash: md5
      md5: 86a6beda156f68d7b18f01deb4533b02
      size: 2895
    outs:
    - path: data/processed/features
      hash: md5
      md5: cc0f191e2a0a9dbf861bf33975e0a1cd.dir
      size: 50288925
      nfiles: 8
  reconcile_datasets:
    cmd: python scripts/data/reconcile_datasets.py --raw-dir data/raw/market 
      --historical-dir data/historical --bars-dir data/bars --features-dir 
      data/processed/features --output-json reports/reconciliation/latest.json 
      --output-log reports/reconciliation/latest.log
    deps:
    - path: data/bars
      hash: md5
      md5: 7b82bacfa657c911395226b7351936a5.dir
      size: 85138
      nfiles: 9
    - path: data/historical
      hash: md5
      md5: 704ab0c5e9cf881239ed51f8179a12e6.dir
      size: 67252
      nfiles: 1
    - path: data/processed/features
      hash: md5
      md5: 1ecd3d66660d22a702339605b730ae12.dir
      size: 34
      nfiles: 1
    - path: data/raw/market
      hash: md5
      md5: 094949ce88f005246ecf564d1fafef0f.dir
      size: 27
      nfiles: 1
    - path: scripts/data/reconcile_datasets.py
      hash: md5
      md5: 5f32f34bd0099a8bc1ee4f8f49e76d2a
      size: 4978
    outs:
    - path: reports/reconciliation/latest.json
      hash: md5
      md5: 1573c9453185077d9e005603d6ebc078
      size: 1803
    - path: reports/reconciliation/latest.log
      hash: md5
      md5: 2d230132433c51449dcf7294f4815ce5
      size: 352
  train_model:
    cmd: python scripts/training/train_strategy.py --config 
      configs/training/strategy.yaml
    deps:
    - path: configs/training/strategy.yaml
      hash: md5
      md5: 3da281ca4eb1d715d8a83fa594420879
      size: 317
    - path: data/processed/features
      hash: md5
      md5: 1ecd3d66660d22a702339605b730ae12.dir
      size: 34
      nfiles: 1
    - path: scripts/training/train_strategy.py
      hash: md5
      md5: aec5f241b059a36194c1ba9188858f0e
      size: 2075
    outs:
    - path: artifacts/metrics/latest.json
      hash: md5
      md5: 634f291a95c24d3368cc60c0243ff7ee
      size: 47
    - path: artifacts/models/latest
      hash: md5
      md5: 2167392695364ebca5e544ee746b3a3d.dir
      size: 27
      nfiles: 1
